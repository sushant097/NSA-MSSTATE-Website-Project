<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nepalese Student Association | MSU</title>

  <!-- Bootstrap & Icons -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <link rel="stylesheet" href="css/styles.css">
 

  <style>
    body {
      background: linear-gradient(to right, #6a1b1a, #8e3c3c, #6a1b1a);
      color: #fff;
    }
    .navbar, .footer { background-color: maroon; color: white; }
    .navbar a, .footer a { color: white !important; }
    .carousel-inner img { width: 100%; height: 500px; object-fit: cover; }
    .rounded-circle {
      width: 130px;
      height: 130px;
      object-fit: cover;
      transition: transform 0.4s ease-in-out;
      border: 4px solid white;
      margin-bottom: 10px;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
    }
    .rounded-circle:hover { transform: scale(1.1); }
    .team-scroll {
      overflow-x: auto;
      white-space: nowrap;
      padding-bottom: 10px;
    }
    .team-member {
      display: inline-block;
      width: 220px;
      height: 320px;
      margin: 10px;
      text-align: center;
      background: linear-gradient(135deg, #fff5f5, #ffe6e6);
      border-radius: 20px;
      padding: 15px;
      color: #2c2c2c;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.4s ease;
      animation: fadeInUp 1s ease-in-out both;
    }
    .team-member:hover {
      transform: scale(1.07);
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
    }
    .team-member strong {
      display: block;
      font-size: 1.1rem;
      font-weight: bold;
      margin-top: 5px;
      color: #333;
    }
    .team-member a {
      color: #006699;
      font-weight: 500;
      text-decoration: none;
    }
    .team-member a:hover {
      color: #004466;
      text-decoration: underline;
    }
    .section-heading {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 1rem;
    }
    #typed-welcome {
      font-size: 1.5rem;
      font-weight: bold;
      color: blanchedalmond;
      text-align: center;
      min-height: 3.5rem; /* Increased height to account for two lines on mobile */
      line-height: 1.6;
      white-space: pre-wrap; /* Ensures multiline text wraps gracefully */
      word-break: break-word; /* Prevent overflow on long words */
    }
    @media (max-width: 576px) {
    #typed-welcome {
        min-height: 5rem;
      }
    }

    

    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
  
  

  </style>
</head>

<body class="d-flex flex-column min-vh-100">

  <!-- Navbar -->
  <div id="header-placeholder"></div>

  <!-- Content -->
  <main class="flex-fill">
    <!-- Carousel -->
    <div id="nsaCarousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active"><img src="img/dashain-2024.jpg" class="d-block w-100" alt="NSA Image 1"></div>
        <div class="carousel-item"><img src="img/Holi-2023.jpg" class="d-block w-100" alt="NSA Image 2"></div>
        <div class="carousel-item"><img src="img/nsa_extra.jpg" class="d-block w-100" alt="NSA Image 3"></div>
        <div class="carousel-item"><img src="img/dashain-2023.jpg" class="d-block w-100" alt="NSA Image 4"></div>
      </div>
    </div>

    <!-- Typed Welcome -->
    <div class="container my-5" data-aos="fade-up">
      <div id="typed-welcome"></div>
    </div>

    <!-- About Section -->
    <section class="container mt-5" data-aos="fade-up">
      <div class="text-center">
        <h2 class="section-heading animate__animated animate__fadeIn">About NSA</h2>
        <p class="lead">The Nepalese Student Association (NSA) at Mississippi State University is a student-run organization dedicated to fostering a sense of community among Nepalese students, celebrating Nepalese culture, and helping new students transition into academic and social life at MSU. We aim to create a home away from home by organizing social, cultural, and academic events throughout the year. NSA also serves as a helpful guide for incoming students with housing, travel, and academic resources.</p>
      </div>
    </section>

    <!-- Current Team -->
    <section class="container mt-5 py-4" style="background: rgba(255,255,255,0.05); border-radius: 20px;" data-aos="zoom-in">
      <h2 class="text-center mb-4 section-heading animate__animated animate__pulse animate__infinite">Current Team</h2>
      <div class="team-scroll text-center pb-3" id="team-container">
        <!-- Team members will be injected here via JS -->
      </div>
    </section>

    <!-- Events Section -->
    <section class="container mt-5" data-aos="fade-up">
      <h2 class="text-center mb-4 section-heading animate__animated animate__fadeIn">Upcoming Events</h2>
      <div class="card shadow-sm mb-3">
        <div class="card-body bg-white text-dark">
          <div class="text-center mt-3">
            <iframe src="https://calendar.google.com/calendar/embed?src=NGMxNGRmOThlM2ZjNWRkMzRiODJiOTQxZmUzODAyZjJjY2VhNjY4OWU3ZWUyNWUxMDFiNGZhZTMxZmIyNTdiMUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&ctz=America%2FChicago" 
              style="border: 0" width="100%" height="600" frameborder="0" scrolling="no"></iframe>
          </div>
          <p>See the full calendar events <a href="https://calendar.google.com/calendar/u/7?cid=NGMxNGRmOThlM2ZjNWRkMzRiODJiOTQxZmUzODAyZjJjY2VhNjY4OWU3ZWUyNWUxMDFiNGZhZTMxZmIyNTdiMUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t" target="_blank">here.</a></p>
        </div>
      </div>
    </section>

    <!-- Important Documents (Drive Link Section) -->
    <section class="container mt-5" data-aos="zoom-in">
      <h2 class="text-center mb-4 section-heading animate__animated animate__fadeIn">ðŸ“‚ NSA Document Drive</h2>
      <div class="card bg-light shadow-sm p-4 text-center">
        <div class="d-flex flex-column align-items-center">
          <i class="bi bi-cloud-arrow-down-fill text-primary" style="font-size: 3rem;"></i>
          <h4 class="mt-3 text-dark font-weight-bold">Access All Official NSA Documents</h4>
          <p class="text-muted">
            View or download important files like the <strong>NSA Constitution</strong>, <strong>meeting minutes</strong>, 
            <strong>event planning docs</strong>, and more â€” all in one organized Drive folder.
          </p>
          <a href="https://drive.google.com/drive/folders/1paos0NlEGFZHsAJfQ4MQWuwvKeRsm_Wo?usp=sharing" target="_blank" class="btn btn-outline-primary btn-lg mt-2">
            <i class="bi bi-box-arrow-up-right"></i> Open NSA Drive Folder
          </a>
        </div>
      </div>
    </section>


  </main>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    $(function () {
      $("#header-placeholder").load("header.html");
      $("#footer-placeholder").load("footer.html");
      $('.carousel').carousel({ interval: 3000 });
    });

    AOS.init();

    document.addEventListener("DOMContentLoaded", function () {
      new Typed('#typed-welcome', {
        strings: [
          "Welcome To The Nepalese Student Association @ MSU!",
          "Celebrating Culture. Supporting Community. Building Future Leaders."
        ],
        typeSpeed: 45,
        backSpeed: 25,
        backDelay: 1500,
        loop: true,
        showCursor: true,
        cursorChar: ''
      });

      // Load Team JSON
      fetch('data/team-members-details.json')
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById('team-container');
          data.forEach(member => {
            const div = document.createElement('div');
            div.className = 'team-member';
            div.innerHTML = `
            <img src="${member.profile_image_path}" class="rounded-circle shadow mb-2"><br>
            <strong>${member.Name}</strong><br>
            ${member.Position}<br>
            ${member.LinkedInURL ? `<a href="${member.LinkedInURL}" target="_blank">LinkedIn</a>` : 'LinkedIn'}
            `;

            container.appendChild(div);
          });
        })
        .catch(err => console.error("Failed to load team data:", err));
    });

    // dynamic alert
    
    
    const ALERT_API_URL = "https://script.google.com/macros/s/AKfycbwRECAPFAjVVNu37mA2j4wzTTNZJxpR5d7aUMh62eIkygpTv65MEt9_2p7J3zIpbbj_zg/exec";

    document.addEventListener("DOMContentLoaded", () => {
    fetch(ALERT_API_URL)
      .then(res => res.json())
      .then(data => {
        if (data.message && data.type !== "none") {
          showNSAAlert(data.message, data.link, data.type);
        }
      })
      .catch(err => console.error("NSA Alert Fetch Error:", err));
  });

  function showNSAAlert(message, link, type = "info") {
    const alertBox = document.createElement("div");
    alertBox.className = `nsa-alert-popup ${type}`;

    const iconMap = {
      info: "bi-info-circle-fill",
      warning: "bi-exclamation-triangle-fill",
      urgent: "bi-exclamation-circle-fill"
    };

    const iconClass = iconMap[type] || "bi-info-circle-fill";

    alertBox.innerHTML = `
      <div class="d-flex justify-content-between align-items-start">
        <div>
          <h5 class="mb-2">
            <i class="bi ${iconClass} mr-2"></i> NSA Announcement
          </h5>
          <p class="mb-1">${message}</p>
          ${link ? `<a href="${link}" target="_blank" class="btn btn-sm btn-warning mt-1">Read More</a>` : ""}
        </div>
        <button class="close ml-3" onclick="this.parentElement.parentElement.remove()">Ã—</button>
      </div>
    `;
    document.body.appendChild(alertBox);
  }
</script>

<style>


@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.nsa-alert-popup {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #fff;
  color: #000;
  padding: 1rem 1.25rem;
  border-left: 6px solid #ccc;
  border-radius: 8px;
  max-width: 350px;
  z-index: 9999;
  animation: fadeSlideIn 0.4s ease;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* Highlighting types */
.nsa-alert-popup.info {
  border-left-color: #17a2b8; /* Teal */
  background: #e6f7fb;
}

.nsa-alert-popup.warning {
  border-left-color: #ffc107; /* Yellow */
  background: #fff8e1;
}

.nsa-alert-popup.urgent {
  border-left-color: #dc3545; /* Red */
  background: #fdecea;
}

.nsa-alert-popup .close {
  background: transparent;
  border: none;
  font-size: 1.2rem;
  line-height: 1;
  cursor: pointer;
}

</style>

</body>
</html>
